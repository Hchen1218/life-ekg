/**
 * 中国主要城市经度表 (用于真太阳时计算)
 * 仅包含地级市及以上，用于自动校正出生时间
 */
export const CITY_COORDINATES: Record<string, number> = {
  // 北京
  "北京市": 116.46,
  
  // 上海
  "上海市": 121.48,
  
  // 天津
  "天津市": 117.2,
  
  // 重庆
  "重庆市": 106.54,
  
  // 河北
  "石家庄市": 114.48, "唐山市": 118.02, "秦皇岛市": 119.57, "邯郸市": 114.47, "邢台市": 114.48,
  "保定市": 115.48, "张家口市": 114.87, "承德市": 117.93, "沧州市": 116.83, "廊坊市": 116.7, "衡水市": 115.72,
  
  // 山西
  "太原市": 112.53, "大同市": 113.3, "阳泉市": 113.57, "长治市": 113.08, "晋城市": 112.83,
  "朔州市": 112.43, "晋中市": 112.75, "运城市": 111.0, "忻州市": 112.73, "临汾市": 111.5, "吕梁市": 111.13,
  
  // 内蒙古
  "呼和浩特市": 111.65, "包头市": 109.83, "乌海市": 106.82, "赤峰市": 118.98, "通辽市": 122.28,
  "鄂尔多斯市": 109.78, "呼伦贝尔市": 119.75, "巴彦淖尔市": 107.42, "乌兰察布市": 113.1, "兴安盟": 122.08,
  
  // 辽宁
  "沈阳市": 123.38, "大连市": 121.62, "鞍山市": 122.85, "抚顺市": 123.97, "本溪市": 123.73,
  "丹东市": 124.37, "锦州市": 121.15, "营口市": 122.18, "阜新市": 121.65, "辽阳市": 123.17,
  "盘锦市": 122.05, "铁岭市": 123.85, "朝阳市": 120.42, "葫芦岛市": 120.83,
  
  // 吉林
  "长春市": 125.35, "吉林市": 126.57, "四平市": 124.37, "辽源市": 125.15, "通化市": 125.92,
  "白山市": 126.4, "松原市": 124.82, "白城市": 122.82, "延边朝鲜族自治州": 129.52,
  
  // 黑龙江
  "哈尔滨市": 126.63, "齐齐哈尔市": 123.97, "鸡西市": 130.97, "鹤岗市": 130.28, "双鸭山市": 131.17,
  "大庆市": 125.03, "伊春市": 128.9, "佳木斯市": 130.35, "七台河市": 131.02, "牡丹江市": 129.58,
  "黑河市": 127.48, "绥化市": 126.98, "大兴安岭地区": 124.12,
  
  // 江苏
  "南京市": 118.78, "无锡市": 120.29, "徐州市": 117.2, "常州市": 119.95, "苏州市": 120.62,
  "南通市": 120.86, "连云港市": 119.16, "淮安市": 119.15, "盐城市": 120.13, "扬州市": 119.42,
  "镇江市": 119.44, "泰州市": 119.9, "宿迁市": 118.28,
  
  // 浙江
  "杭州市": 120.19, "宁波市": 121.56, "温州市": 120.65, "嘉兴市": 120.76, "湖州市": 120.1,
  "绍兴市": 120.58, "金华市": 119.64, "衢州市": 118.88, "舟山市": 122.2, "台州市": 121.43, "丽水市": 119.92,
  
  // 安徽
  "合肥市": 117.27, "芜湖市": 118.38, "蚌埠市": 117.38, "淮南市": 116.98, "马鞍山市": 118.48,
  "淮北市": 116.8, "铜陵市": 117.82, "安庆市": 117.05, "黄山市": 118.3, "滁州市": 118.3,
  "阜阳市": 115.82, "宿州市": 116.97, "六安市": 116.5, "亳州市": 115.78, "池州市": 117.48, "宣城市": 118.75,
  
  // 福建
  "福州市": 119.3, "厦门市": 118.1, "莆田市": 119.0, "三明市": 117.64, "泉州市": 118.58,
  "漳州市": 117.65, "南平市": 118.17, "龙岩市": 117.02, "宁德市": 119.52,
  
  // 江西
  "南昌市": 115.89, "景德镇市": 117.18, "萍乡市": 113.85, "九江市": 115.97, "新余市": 114.92,
  "鹰潭市": 117.03, "赣州市": 114.93, "吉安市": 114.97, "宜春市": 114.38, "抚州市": 116.34, "上饶市": 117.97,
  
  // 山东
  "济南市": 117.0, "青岛市": 120.33, "淄博市": 118.05, "枣庄市": 117.57, "东营市": 118.49,
  "烟台市": 121.39, "潍坊市": 119.1, "济宁市": 116.59, "泰安市": 117.13, "威海市": 122.1,
  "日照市": 119.46, "临沂市": 118.35, "德州市": 116.3, "聊城市": 115.97, "滨州市": 118.02, "菏泽市": 115.43,
  
  // 河南
  "郑州市": 113.65, "开封市": 114.35, "洛阳市": 112.42, "平顶山市": 113.3, "安阳市": 114.35,
  "鹤壁市": 114.28, "新乡市": 113.85, "焦作市": 113.23, "濮阳市": 115.02, "许昌市": 113.82,
  "漯河市": 114.02, "三门峡市": 111.19, "南阳市": 112.53, "商丘市": 115.65, "信阳市": 114.07,
  "周口市": 114.63, "驻马店市": 114.02,
  
  // 湖北
  "武汉市": 114.31, "黄石市": 115.09, "十堰市": 110.79, "宜昌市": 111.28, "襄阳市": 112.14,
  "鄂州市": 114.88, "荆门市": 112.2, "孝感市": 113.92, "荆州市": 112.23, "黄冈市": 114.87,
  "咸宁市": 114.32, "随州市": 113.37, "恩施土家族苗族自治州": 109.48,
  
  // 湖南
  "长沙市": 113.0, "株洲市": 113.16, "湘潭市": 112.91, "衡阳市": 112.61, "邵阳市": 111.45,
  "岳阳市": 113.09, "常德市": 111.69, "张家界市": 110.48, "益阳市": 112.33, "郴州市": 113.03,
  "永州市": 111.63, "怀化市": 109.96, "娄底市": 112.0, "湘西土家族苗族自治州": 109.73,
  
  // 广东
  "广州市": 113.23, "韶关市": 113.6, "深圳市": 114.07, "珠海市": 113.52, "汕头市": 116.7,
  "佛山市": 113.11, "江门市": 113.06, "湛江市": 110.4, "茂名市": 110.88, "肇庆市": 112.44,
  "惠州市": 114.4, "梅州市": 116.1, "汕尾市": 115.36, "河源市": 114.68, "阳江市": 111.95,
  "清远市": 113.01, "东莞市": 113.75, "中山市": 113.38, "潮州市": 116.63, "揭阳市": 116.35, "云浮市": 112.02,
  
  // 广西
  "南宁市": 108.33, "柳州市": 109.4, "桂林市": 110.28, "梧州市": 111.3, "北海市": 109.12,
  "防城港市": 108.35, "钦州市": 108.62, "贵港市": 109.6, "玉林市": 110.14, "百色市": 106.62,
  "贺州市": 111.53, "河池市": 107.7, "来宾市": 109.24, "崇左市": 107.35,
  
  // 海南
  "海口市": 110.35, "三亚市": 109.5, "三沙市": 112.34, "儋州市": 109.57,
  
  // 四川
  "成都市": 104.06, "自贡市": 104.78, "攀枝花市": 101.72, "泸州市": 105.43, "德阳市": 104.37,
  "绵阳市": 104.73, "广元市": 105.82, "遂宁市": 105.58, "内江市": 105.05, "乐山市": 103.73,
  "南充市": 106.08, "眉山市": 103.81, "宜宾市": 104.62, "广安市": 106.63, "达州市": 107.5,
  "雅安市": 103.0, "巴中市": 106.75, "资阳市": 104.65, "阿坝藏族羌族自治州": 102.22,
  "甘孜藏族自治州": 101.96, "凉山彝族自治州": 102.25,
  
  // 贵州
  "贵阳市": 106.71, "六盘水市": 104.82, "遵义市": 106.9, "安顺市": 105.93, "毕节市": 105.28,
  "铜仁市": 109.18, "黔西南布依族苗族自治州": 104.88, "黔东南苗族侗族自治州": 107.97, "黔南布依族苗族自治州": 107.52,
  
  // 云南
  "昆明市": 102.73, "曲靖市": 103.79, "玉溪市": 102.52, "保山市": 99.15, "昭通市": 103.7,
  "丽江市": 100.23, "普洱市": 100.97, "临沧市": 100.08, "楚雄彝族自治州": 101.53,
  "红河哈尼族彝族自治州": 103.38, "文山壮族苗族自治州": 104.24, "西双版纳傣族自治州": 100.8,
  "大理白族自治州": 100.27, "德宏傣族景颇族自治州": 98.58, "怒江傈僳族自治州": 98.85, "迪庆藏族自治州": 99.7,
  
  // 西藏
  "拉萨市": 91.11, "日喀则市": 88.88, "昌都市": 97.17, "林芝市": 94.37, "山南市": 91.77,
  "那曲市": 92.05, "阿里地区": 80.1,
  
  // 陕西
  "西安市": 108.95, "铜川市": 109.11, "宝鸡市": 107.15, "咸阳市": 108.7, "渭南市": 109.5,
  "延安市": 109.47, "汉中市": 107.05, "榆林市": 109.73, "安康市": 109.02, "商洛市": 109.93,
  
  // 甘肃
  "兰州市": 103.73, "嘉峪关市": 98.28, "金昌市": 102.18, "白银市": 104.17, "天水市": 105.73,
  "武威市": 102.63, "张掖市": 100.45, "平凉市": 106.68, "酒泉市": 98.5, "庆阳市": 107.63,
  "定西市": 104.62, "陇南市": 104.92, "临夏回族自治州": 103.2, "甘南藏族自治州": 102.9,
  
  // 青海
  "西宁市": 101.74, "海东市": 102.08, "海北藏族自治州": 100.9, "黄南藏族自治州": 102.0,
  "海南藏族自治州": 100.62, "果洛藏族自治州": 100.23, "玉树藏族自治州": 96.97, "海西蒙古族藏族自治州": 97.37,
  
  // 宁夏
  "银川市": 106.27, "石嘴山市": 106.37, "吴忠市": 106.21, "固原市": 106.28, "中卫市": 105.18,
  
  // 新疆
  "乌鲁木齐市": 87.68, "克拉玛依市": 84.87, "吐鲁番市": 89.19, "哈密市": 93.51, "昌吉回族自治州": 87.3,
  "博尔塔拉蒙古自治州": 82.07, "巴音郭楞蒙古自治州": 86.15, "阿克苏地区": 80.25, "克孜勒苏柯尔克孜自治州": 76.12,
  "喀什地区": 75.94, "和田地区": 79.94, "伊犁哈萨克自治州": 81.33, "塔城地区": 82.97, "阿勒泰地区": 88.12
};

/**
 * 根据输入模糊查找城市经度
 * @param location 用户输入的地点字符串
 * @returns 经度数值 (默认 120.0 - 北京时间)
 */
export function getLongitude(location: string): number {
  if (!location) return 120.0;
  
  // 1. 精确匹配
  for (const city in CITY_COORDINATES) {
    if (location.includes(city)) {
      return CITY_COORDINATES[city];
    }
  }
  
  // 2. 模糊匹配 (去掉"市"等后缀)
  for (const city in CITY_COORDINATES) {
    const shortName = city.replace(/(市|地区|自治州|盟)$/, "");
    if (location.includes(shortName)) {
      return CITY_COORDINATES[city];
    }
  }
  
  // 3. 默认值 (北京时间)
  return 120.0;
}
