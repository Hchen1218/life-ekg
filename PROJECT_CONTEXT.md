# Life EKG (人生心电图) - 项目上下文记忆文件

> **使用说明**：如果你在新环境中继续开发，请将此文件内容发送给 AI 助手，以恢复项目上下文和开发进度。

## 1. 产品核心定义
- **产品形态**：Web 应用（Next.js），适配移动端/桌面端，无需下载。
- **核心创意**：**"人生心电图" (Life EKG)**。结合股票 K 线走势与心电图形式，展示人生运势起伏。
- **视觉隐喻**：
  - **曲线**：代表运势高低（类似心电图/股票走势）。
  - **图标**：使用天气图标（☀️晴、🌧️雨、⛈️雷暴、🌈彩虹）标注关键年份节点。
- **目标用户**：18-40岁互联网人群，熟悉游戏化、数据可视化元素。

## 2. 核心功能 (MVP)
1.  **用户输入**：姓名、生辰（必须精确时辰）、出生地、现居地。
2.  **交互体验**：
    - 默认展示：过去 10 年 + 未来 10 年。
    - 操作：支持左右滑动（时间轴）、缩放查看细节。
    - 节点交互：点击年份节点查看详细 AI 解读。
3.  **信任验证机制 (Trust Loop)**：
    - **盲测阶段**：AI 先推断用户过去几年的运势（以今年为界）。
    - **用户校准**：用户确认或补充真实经历。
    - **AI 解释**：系统解释为何命理预测与真实经历吻合（建立信任）。
4.  **报告生成**：
    - 总运势线 + 分维度线（事业/财运/感情/健康）。
    - 命理总评与建议。
    - **即时推算**：不存储用户历史报告（无后端数据库），每次重新生成。

## 3. 技术栈决策
- **框架**：Next.js (App Router) + TypeScript
- **样式**：Tailwind CSS + Shadcn UI (组件库)
- **图表**：Recharts 或 Chart.js (用于绘制心电图)
- **运行时/包管理**：Bun (极速构建)
- **AI 服务**：**DeepSeek (深度求索)** 或 **Qwen (通义千问)**
  - *理由*：中文理解能力强，逻辑推理佳，性价比高。
- **部署**：Vercel (免费托管)

## 4. 关键逻辑策略
- **算法与AI的关系**：
  - **Prompt工程**：将算法逻辑（八字/紫微规则）内化为 AI Prompt，由 AI 直接进行推算和解读。
  - **一致性控制**：接受每次生成的具体措辞微调，但通过 Prompt 强约束确保核心运势趋势（涨跌）一致。
- **数据隐私**：无持久化数据库，用户离开页面即销毁数据（前端状态管理）。

## 5. 当前开发进度 (Todo List)
- [x] 初始化 Next.js 项目 (Bun + TS + Tailwind)
- [x] 安装基础依赖 (Recharts, Lunisolar, Lucide-React)
- [ ] **[当前任务]** 初始化 UI 组件库 (Shadcn UI 配置)
- [ ] 实现核心组件: LifeEKGChart
- [ ] 实现用户输入表单
- [ ] 构建 AI 服务层 (DeepSeek/Qwen API 集成)
- [ ] 实现交互逻辑 (盲测 -> 报告)
- [ ] UI 完善与适配

## 6. 商业模式 (规划)
- Key/兑换码机制：基础版（免费/低价） vs 豪华版（全维度解读）。
